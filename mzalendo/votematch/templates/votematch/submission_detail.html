{% extends 'base.html' %}

{% block content %}

    <h1>{{ object.quiz.name }}</h1>


    <h2>Results</h2>
    
    <p>(Higher score means better match)</p>
    
    {% for result in party_results %}
      <p>{{ result.party.name }}: {{ result.score}}</p>
    {% endfor %}
 




    <h2>Breakdown</h2>    


    <style type="text/css" media="screen">
      td, th {
        border: 1px solid black;
      }
    </style>

    <table>
      <tr>
        <th>Statement title</th>
        <th>You</th>
        {% for party in parties %}
          <th>{{ party.name }}</th>
        {% endfor %}
      </tr>
      
      {% for row in rows %}
        <tr>
          <th>{{ row.statement.text }}</th>
          <td>{{ row.answer.get_agreement_display }}</td>
          {% for stance in row.party_stances %}
            <td>{{ stance.get_agreement_display }}</td>
          {% endfor %}
        </tr>
      {% endfor %}
      
    </table>
  
{% endblock %}
